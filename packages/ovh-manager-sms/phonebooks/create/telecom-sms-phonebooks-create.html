<section class="telecom-sms-phonebooks-create">

    <header class="oui-page-header" role="banner">
        <div class="oui-page-header__container flex-column">
            <div>
                <oui-back-button state="sms.phonebooks">
                    {{:: 'sms_phonebooks_create_back_link' | translate }}
                </oui-back-button>
            </div>
            <h1 class="oui-page-header__title" data-translate="sms_phonebooks_phonebook_create"></h1>
        </div>
    </header>

    <main class="telecom-section-content mt-5"
          role="main">

        <toast-message></toast-message>

        <div class="row">
            <div class="col-xs-12 col-sm-6">
                <form name="phonebookCreateForm"
                      novalidate
                      data-ng-submit="PhonebooksCreateCtrl.create()">
                    <div class="form-group"
                         data-ng-class="{
                             'has-error': phonebookCreateForm.name.$touched && phonebookCreateForm.name.$invalid
                         }">
                        <label for="name"
                               class="control-label"
                               data-translate="sms_phonebooks_phonebook_create_name_placeholder">
                        </label>
                        <input
                            type="text"
                            name="name"
                            id="name"
                            class="form-control"
                            autofocus
                            required
                            data-ng-model="PhonebooksCreateCtrl.phonebookToAdd.name"
                            data-ng-pattern="/^[\w\s.\-À-ú]*$/"
                            data-ng-maxlength="50"
                            data-translate-attr="{ placeholder: 'sms_phonebooks_phonebook_create_name_placeholder' }" />
                        <span class="help-block"
                              role="alert"
                              data-ng-if="phonebookCreateForm.name.$touched"
                              data-ng-messages="phonebookCreateForm.name.$error">
                            <span data-ng-message="required"
                                  data-translate="sms_phonebooks_phonebook_create_name_error_required">
                            </span>
                            <span data-ng-message="pattern"
                                  data-translate="sms_phonebooks_phonebook_create_name_error_pattern">
                            </span>
                            <span data-ng-message="maxlength"
                                  data-translate="sms_phonebooks_phonebook_create_name_error_maxlength">
                            </span>
                        </span>
                    </div>
                    <div class="form-group">
                        <button
                            type="submit"
                            class="btn btn-primary"
                            data-ng-disabled="phonebookCreateForm.$invalid || PhonebooksCreateCtrl.phonebookToAdd.isAdding">
                            <span data-translate="sms_phonebooks_create"></span>
                        </button>
                        <oui-spinner class="ml-2"
                                     data-ng-if="PhonebooksCreateCtrl.phonebookToAdd.isAdding"
                                     data-size="s">
                        </oui-spinner>
                    </div>
                </form>
            </div>
        </div>

    </main>
    <!-- /.telecom-section-content -->

</section>
<!-- /.telecom-sms-phonebooks-create -->
