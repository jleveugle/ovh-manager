<form name="changePasswordUserForm"
      id="changePasswordUserForm"
      data-ng-submit="UsersChangePasswordCtrl.changePassword()">

    <div class="modal-header">
        <button
            type="button"
            class="close float-right"
            aria-label="{{ ::'cancel' | translate }}"
            data-ng-click="UsersChangePasswordCtrl.cancel()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>

    <div class="modal-body"
         data-ng-if="!UsersChangePasswordCtrl.loading.changePasswordUser && !UsersChangePasswordCtrl.changed">
        <h3 class="modal-title"
            data-translate="sms_users_change_password_user_title">
        </h3>

        <p class="word-break"
           data-translate="sms_users_change_password_user_info"
           data-translate-values="{ login: UsersChangePasswordCtrl.model.user.login }">
        </p>

        <!-- LOGIN -->
        <div class="form-group"
             data-ng-class="{
                 'has-error': changePasswordUserForm.login.$touched && changePasswordUserForm.login.$invalid
             }">
            <label for="login"
                   class="control-label"
                   data-translate="sms_users_add_user_login_label">
            </label>
            <input
                type="text"
                name="login"
                id="login"
                class="form-control"
                disabled
                readonly
                required
                data-ng-model="UsersChangePasswordCtrl.model.user.login"
                data-ng-maxlength="40"
                data-translate-attr="{ placeholder: 'sms_users_add_user_login_placeholder' }" />
            <span class="help-block"
                  role="alert"
                  data-ng-if="changePasswordUserForm.login.$touched"
                  data-ng-messages="changePasswordUserForm.login.$error">
                <span data-ng-message="required"
                      data-translate="sms_users_add_user_login_required">
                </span>
            </span>
        </div>

        <!-- PASSWORD -->
        <div class="form-group"
             data-ng-class="{
                 'has-error': changePasswordUserForm.password.$touched && changePasswordUserForm.password.$invalid
             }">
            <label for="password"
                   class="control-label"
                   data-translate="sms_users_add_user_password_label">
            </label>
            <input
                type="password"
                name="password"
                id="password"
                class="form-control"
                placeholder="{{ ::'sms_users_add_user_password_placeholder' | translate }}"
                required
                autofocus
                data-ng-model="UsersChangePasswordCtrl.model.user.password"
                data-ng-pattern="UsersChangePasswordCtrl.passwordPattern" />
            <span class="help-block"
                  role="alert"
                  data-ng-if="changePasswordUserForm.password.$touched"
                  data-ng-messages="changePasswordUserForm.password.$error">
                <span data-ng-message="required"
                      data-translate="sms_users_change_password_user_password_error_required">
                </span>
                <span data-ng-message="pattern"
                      data-translate="sms_users_change_password_user_password_error_pattern">
                </span>
            </span>
        </div>

    </div>

    <div class="modal-body text-center"
         data-ng-if="UsersChangePasswordCtrl.loading.changePasswordUser && !UsersChangePasswordCtrl.changed">
        <oui-spinner></oui-spinner>
        <h4 data-translate="sms_users_change_password_user_changing"></h4>
    </div>

    <div class="modal-body"
         data-ng-if="UsersChangePasswordCtrl.changed">
        <success-drawing-check data-draw-success-check="UsersChangePasswordCtrl.changed">
            <h4 data-translate="sms_users_change_password_user_changed"></h4>
        </success-drawing-check>
    </div>

    <div class="modal-footer">
        <button
            type="button"
            class="btn btn-default"
            data-ng-click="UsersChangePasswordCtrl.cancel()"
            data-translate="cancel"
            data-ng-disabled="UsersChangePasswordCtrl.loading.changePasswordUser || UsersChangePasswordCtrl.changed">
        </button>
        <button
            type="submit"
            class="btn btn-primary"
            data-ng-disabled="changePasswordUserForm.$invalid ||
                              UsersChangePasswordCtrl.loading.changePasswordUser ||
                              UsersChangePasswordCtrl.changed"
            data-translate="submit">
        </button>
    </div>
</form>
